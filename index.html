<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WOW.Calc - Multi-Currency Calculator</title>
<link rel="preload" href="dark-style.css" as="style">
<link rel="stylesheet" href="style.css" id="lightStyle">
<!--  dark mode  -->
<link rel="stylesheet" href="style.css" id="lightStyle">
<link rel="stylesheet" href="dark-style.css" id="darkStyle" disabled>
</head>
<body>

   

<div class="calculator">

    
    
    <div class="header">
        <h1>WOW.Calc</h1>
        <p>Boosting Price Calculator</p>
    </div>

    <div class="input-group">
        <label for="goldCost">Cost of 1M Gold (USD)</label>
        <input type="number" id="goldCost" placeholder="Enter cost in USD" min="0" step="0.01">
    </div>

    <div class="input-group">
        <label for="exchangeRate">EGP to USD Exchange Rate</label>
        <input type="number" id="exchangeRate" placeholder="Enter EGP to USD rate" min="0" step="0.01">
    </div>

    <div class="input-group">
        <label for="amountToCalculate">Amount to Calculate</label>
        <div class="currency-input">
            <input type="number" id="amountToCalculate" placeholder="Enter amount" min="0" step="0.01">

            <div class="custom-select" id="currencySelect">
                <div class="selected">
                    Gold
                    <span class="arrow"></span>
                </div>
                <div class="options">
                    <div data-value="gold">Gold</div>
                    <div data-value="usd">USD</div>
                    <div data-value="egp">EGP</div>
                    <div data-value="credits">Credits</div>
                </div>
            </div>
        </div>
    </div>

    <button class="calculate-btn" id="calculateBtn">Calculate Values</button>

    <div class="results" id="results">
        <h2>Calculation Results</h2>
        <div class="result-item">
            <span class="result-label">Gold:</span>
            <span class="result-value" id="resultGold">0</span>
        </div>
        <div class="result-item">
            <span class="result-label">USD:</span>
            <span class="result-value" id="resultUSD">$0.00</span>
        </div>
        <div class="result-item">
            <span class="result-label">EGP:</span>
            <span class="result-value" id="resultEGP">EGP 0.00</span>
        </div>
        <div class="result-item">
            <span class="result-label">Credits:</span>
            <span class="result-value" id="resultCredits">0</span>
        </div>
    </div>

    <div class="footer">
        Made to help Boosters / Posters ♡
    </div>
    
    <div class="footer2">
        Created by Ahmed Plally
    </div>

    <label class="toggle">
        <input type="checkbox" id="darkToggle">
        <span class="slider"></span>
    </label>  
    
</div>

<script>

// =============== DARK MODE (PERSISTENT) ===============

document.addEventListener("DOMContentLoaded", () => {
    const darkToggle = document.getElementById('darkToggle');
    const lightStyle = document.getElementById('lightStyle');
    const darkStyle = document.getElementById('darkStyle');

    const savedTheme = localStorage.getItem("theme");

    if (savedTheme === "dark") {
        darkToggle.checked = true;
        lightStyle.disabled = true;
        darkStyle.disabled = false;
    } else {
        darkToggle.checked = false;
        lightStyle.disabled = false;
        darkStyle.disabled = true;
    }

    darkToggle.addEventListener('change', function() {
        if (this.checked) {
            lightStyle.disabled = true;
            darkStyle.disabled = false;
            localStorage.setItem("theme", "dark");
        } else {
            lightStyle.disabled = false;
            darkStyle.disabled = true;
            localStorage.setItem("theme", "light");
        }
    });
});

// =============== CALCULATOR LOGIC ===============

document.addEventListener('DOMContentLoaded', function() {
    const calculateBtn = document.getElementById('calculateBtn');
    const resultsDiv = document.getElementById('results');
    const customSelect = document.getElementById('currencySelect');
    const selected = customSelect.querySelector('.selected');
    const options = customSelect.querySelector('.options');
    let selectedCurrency = 'gold';

    selected.addEventListener('click', () => {
        customSelect.classList.toggle('open');
    });

    options.querySelectorAll('div').forEach(option => {
        option.addEventListener('click', () => {
            selected.childNodes[0].textContent = option.textContent + ' ';
            selectedCurrency = option.dataset.value;
            customSelect.classList.remove('open');
        });
    });

    document.addEventListener('click', (e) => {
        if (!customSelect.contains(e.target)) {
            customSelect.classList.remove('open');
        }
    });

    const CREDITS_PER_USD = 5000 / 6; // ≈833.33

    calculateBtn.addEventListener('click', function() {
        const goldCost = parseFloat(document.getElementById('goldCost').value) || 0;
        const exchangeRate = parseFloat(document.getElementById('exchangeRate').value) || 0;
        const amountToCalculate = parseFloat(document.getElementById('amountToCalculate').value) || 0;

        if (goldCost <= 0 || exchangeRate <= 0 || amountToCalculate <= 0) {
            alert("Please enter valid positive values in all fields");
            return;
        }

        let goldAmount, usdValue, egpValue, creditsValue;

        switch(selectedCurrency) {
            case 'gold':
                goldAmount = amountToCalculate;
                usdValue = (goldAmount / 1_000_000) * goldCost;
                egpValue = usdValue * exchangeRate;
                creditsValue = usdValue * CREDITS_PER_USD;
                break;
            case 'usd':
                usdValue = amountToCalculate;
                goldAmount = (usdValue / goldCost) * 1_000_000;
                egpValue = usdValue * exchangeRate;
                creditsValue = usdValue * CREDITS_PER_USD;
                break;
            case 'egp':
                egpValue = amountToCalculate;
                usdValue = egpValue / exchangeRate;
                goldAmount = (usdValue / goldCost) * 1_000_000;
                creditsValue = usdValue * CREDITS_PER_USD;
                break;
            case 'credits':
                creditsValue = amountToCalculate;
                usdValue = creditsValue / CREDITS_PER_USD;
                goldAmount = (usdValue / goldCost) * 1_000_000;
                egpValue = usdValue * exchangeRate;
                break;
        }

        document.getElementById('resultGold').textContent = Math.round(goldAmount).toLocaleString();
        document.getElementById('resultUSD').textContent = '$' + usdValue.toFixed(2);
        document.getElementById('resultEGP').textContent = 'EGP ' + egpValue.toFixed(2);
        document.getElementById('resultCredits').textContent = Math.round(creditsValue).toLocaleString();
        
        resultsDiv.style.display = 'block';
    });
});
</script>
</body>
</html>
